{# templates/includes/_sidebar_admin.html #}
{% load static %}
{% block head_extra %}
<style>
  :root{
    --brand:#a5aa7f;   /* olive nhạt */
    --bg:#f6f5ec;      /* nền sáng */
    --ink:#2b3220;     /* chữ đậm */
    --edge:#cfd3a9;    /* viền nhạt */
    --chip:#f4f3e7;    /* nền active/hover */
  }
  body{ background:var(--bg); font-family:'Nunito',sans-serif; }

  /* ===== Sidebar (chuẩn theo mockup) ===== */
  .bo-sidebar{
    background:#e1e6cf;
    border-radius:16px;
    padding:16px;
    position:sticky; top:1rem;
  }
  .bo-profile .bo-avatar{
    width:72px;height:72px;border-radius:50%;
    object-fit:cover;border:3px solid #fff;
  }
  .bo-profile .bo-role{ color:#6c7551; font-weight:700; }

  .bo-menu{ margin-top:12px }
  .bo-item{
    display:flex; align-items:center; gap:.75rem;
    padding:.6rem .8rem; border-radius:12px;
    color:var(--ink); text-decoration:none; font-weight:800;
    transition:background .15s, box-shadow .15s;
  }
  .bo-item:hover{ background:var(--chip);text-decoration: none }
  .bo-item.active{
    background:var(--chip);
    box-shadow: inset 0 0 0 2px #d6d1b8;
  }
  .bo-ic{
    width:36px;height:36px;border-radius:50%;
    display:grid;place-items:center;
    border:2px solid var(--edge); color:#71804f;
    background:#fff;
    flex:0 0 36px;
  }
</style>
{% endblock %}

<div class="bo-sidebar">
  <!-- Header -->
  <div class="bo-profile d-flex align-items-center gap-3 mb-3">
    <img src="{{ staff_avatar_url|default:'/static/img/ảnh_người_1.jpg' }}"
         class="bo-avatar" alt="avatar">
    <div>
      <div class="bo-role small">Admin</div>
      <div class="fw-bold">{{ request.user.get_full_name|default:request.user.username }}</div>
    </div>
  </div>

  <!-- Menu -->
  <nav class="bo-menu d-grid gap-2">
    <!-- 1. Dashboard -->
    <a class="bo-item {% if active == 'dashboard' %}active{% endif %}"
       href="{% url 'main:admin_dashboard' %}">
      <span class="bo-ic"><i class="bi bi-bar-chart"></i></span>
      Dashboard
    </a>

    <!-- 2. Employee -->
    <a class="bo-item {% if active == 'employee' %}active{% endif %}"
       href="{% url 'main:admin_employee' %}">
      <span class="bo-ic"><i class="bi bi-people"></i></span>
      Employee
    </a>

    <!-- 3. Schedule Employee -->
    <a class="bo-item {% if active == 'schedule' %}active{% endif %}"
       href="{% url 'main:admin_schedule' %}">
      <span class="bo-ic"><i class="bi bi-calendar-week"></i></span>
      Schedule Employee
    </a>

    <!-- 4. Service -->
    <a class="bo-item {% if active == 'service' %}active{% endif %}"
       href="{% url 'main:admin_service' %}">
      <span class="bo-ic"><i class="bi bi-heart"></i></span>
      Service
    </a>

    <!-- 5. Branch -->
    <a class="bo-item {% if active == 'branch' %}active{% endif %}"
       href="{% url 'main:branch_list' %}">
      <span class="bo-ic"><i class="bi bi-calendar-week"></i></span>
      Branch
    </a>

    <!-- 6. Feedback -->
    <a class="bo-item {% if active == 'feedback' %}active{% endif %}"
       href="{% url 'main:admin_feedback' %}">
      <span class="bo-ic"><i class="bi-chat-dots"></i></span>
      Feedback
    </a>
  </nav>

</div>

<script>
  document.addEventListener('DOMContentLoaded', function(){
    const link = document.getElementById('logout-link');
    if(link){
      link.addEventListener('click', function(e){
        e.preventDefault();
        document.getElementById('logout-form').submit();
      });
    }
  });
</script>

{% load static %}
{% block head_extra %}
<style>
  :root{
    --brand:#a5aa7f;   /* olive nhạt */
    --bg:#f6f5ec;      /* nền sáng */
    --ink:#2b3220;     /* chữ đậm */
    --edge:#cfd3a9;    /* viền nhạt */
    --chip:#f4f3e7;    /* nền active/hover */
  }
  body{ background:var(--bg); font-family:'Nunito',sans-serif; }

  /* ===== Sidebar (chuẩn theo mockup) ===== */
  .bo-sidebar{
    background:#e1e6cf;
    border-radius:16px;
    padding:16px;
    position:sticky; top:1rem;
  }
  .bo-profile .bo-avatar{
    width:72px;height:72px;border-radius:50%;
    object-fit:cover;border:3px solid #fff;
  }
  .bo-profile .bo-role{ color:#6c7551; font-weight:700; }

  .bo-menu{ margin-top:12px }
  .bo-item{
    display:flex; align-items:center; gap:.75rem;
    padding:.6rem .8rem; border-radius:12px;
    color:var(--ink); text-decoration:none; font-weight:800;
    transition:background .15s, box-shadow .15s;
  }
  .bo-item:hover{ background:var(--chip);text-decoration: none }
  .bo-item.active{
    background:var(--chip);
    box-shadow: inset 0 0 0 2px #d6d1b8;
  }
  .bo-ic{
    width:36px;height:36px;border-radius:50%;
    display:grid;place-items:center;
    border:2px solid var(--edge); color:#71804f;
    background:#fff;
    flex:0 0 36px;
  }
</style>
{% endblock %}
<div class="bo-sidebar">
  <div class="bo-profile d-flex align-items-center gap-3 mb-3">
    {% if request.user.avatar %}
      <img src="{{ request.user.avatar.url }}" class="bo-avatar" alt="avatar">
    {% else %}
      <img src="{% static 'img/avatar-placeholder.png' %}" class="bo-avatar" alt="avatar">
    {% endif %}
    <div>
      <div class="bo-role small">
        Khách hàng
      </div>
      <div class="fw-bold">
        {{ request.user.full_name|default:request.user.get_full_name|default:request.user.username }}
      </div>
    </div>
  </div>

  <nav class="bo-menu d-grid gap-2">

    {# 1. ACCOUNT OVERVIEW #}
    <a class="bo-item {% if active == 'account' %}active{% endif %}"
       href="{% url 'main:customer_account' %}">
      <span class="bo-ic"><i class="bi bi-house-door"></i></span>
      Account
    </a>

    {# 2. MY APPOINTMENTS #}
    <a class="bo-item {% if active == 'my_appointments' %}active{% endif %}"
       href="{% url 'main:my_appointments' %}">
      <span class="bo-ic"><i class="bi bi-calendar2-check"></i></span>
      My Appointments
    </a>
</a>
      <a class="bo-item {% if active == 'loyalty' %}active{% endif %}"
       href="{% url 'main:loyalty_history' %}">
      <span class="bo-ic"><i class="bi bi-calendar2-check"></i></span>
      Loyalty
    </a>
    {# 3. LOGOUT #}
    <a class="bo-item" href="#" id="logout-link">
        <span class="bo-ic"><i class="bi bi-box-arrow-right"></i></span>
        Logout
    </a>
  </nav>
</div>